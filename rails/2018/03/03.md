## Various testing techniques.

## Fixtures.

Fixtures are a way of organizing data that you want to test against; in short, sample data.
They are really powerfull.


Have a look at file
`vim test/fixtures/dogparks.yml`
     

They are stored in YAML files.

We can add folloing data

```
one:
  city: Como
  max_dogs_accepted: 1

two:
  city: Nevada
  max_dogs_accepted: 300

three:
  city: Berlin
  max_dogs_accepted: 31

four:
  city: Freiburg
  max_dogs_accepted: 0

five:
  city: Nancy
  max_dogs_accepted: 201
```

```bash
rake db:fixtures:load
rails server -p 9000
```

### Dinamic fixtures with erb

Let reopen the file. `vim test/fixtures/dogparks.yml`

```
<% 1.upto(1000) do |i| %>
<%= i %>:
  city: Como_<%= i %>
  max_dogs_accepted: <%= i %>
<% end %>
```

```bash
rake db:fixtures:load
rails server -p 9000
```

This is really powerfull for injecting custom data in db!
And you can use fixture everywhere in other tests


## Minitest

```vim minitest_hi.rb```

``` ruby

require "minitest/autorun"

class PingeTest < Minitest::Test
  def test_truth
     assert true
  end

  def test_ping
     assert(system('ping -c1 localhost'))
  end

  def test_mustfail
     refute(system('ping -c1 fail'))
  end
end
```
